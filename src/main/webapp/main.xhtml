<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jstl/core">
<h:head>
    <link rel="stylesheet" href="resources/css/main.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>web-lab-3-finale</title>
</h:head>
<body>
<div class="header">
    <div class="numbers">
        P32091<br/>
        915478
    </div>
    <div class="name">
        Осокина Мария Юрьевна
        <br/>
    </div>
</div>
<div class="center">
    <h:link outcome="toIndex" id="link">
        Перейти на начальную страницу
    </h:link>
    <div class="container">
<!--        1 деление - 80 пиксеелей -->
        <div>
            <svg viewBox="0 0 960 960" id="svg" onclick="svgClick(event, this)">
                <g id="g5"></g>
                <g id="g4"></g>
                <g id="g3"></g>
                <g id="g2"></g>
                <g id="g1"></g>

                <g id="dot1"></g>
                <g id="dot2"></g>
                <g id="dot3"></g>
                <g id="dot4"></g>
                <g id="dot5"></g>
                <line x1="480" y1="0" x2="480" y2="960" stroke="black" stroke-width="3"/>
                <line x1="0" y1="480" x2="960" y2="480" stroke="black" stroke-width="3"/>

                <line x1="80" y1="475" x2="80" y2="485" stroke="black" stroke-width="3"/>
                <text x="70" y="465">-5</text>
                <line x1="160" y1="475" x2="160" y2="485" stroke="black" stroke-width="3"/>
                <text x="150" y="465">-4</text>
                <line x1="240" y1="475" x2="240" y2="485" stroke="black" stroke-width="3"/>
                <text x="230" y="465">-3</text>
                <line x1="320" y1="475" x2="320" y2="485" stroke="black" stroke-width="3"/>
                <text x="310" y="465">-2</text>
                <line x1="400" y1="475" x2="400" y2="485" stroke="black" stroke-width="3"/>
                <text x="390" y="465">-1</text>
                <line x1="560" y1="475" x2="560" y2="485" stroke="black" stroke-width="3"/>
                <text x="555" y="465">1</text>
                <line x1="640" y1="475" x2="640" y2="485" stroke="black" stroke-width="3"/>
                <text x="635" y="465">2</text>
                <line x1="720" y1="475" x2="720" y2="485" stroke="black" stroke-width="3"/>
                <text x="715" y="465">3</text>
                <line x1="800" y1="475" x2="800" y2="485" stroke="black" stroke-width="3"/>
                <text x="795" y="465">4</text>
                <line x1="880" y1="475" x2="880" y2="485" stroke="black" stroke-width="3"/>
                <text x="875" y="465">5</text>

                <text x="495" y="10">y</text>
                <text x="945" y="465">x</text>
                <polygon points="470,10 480,0 490,10" fill="black"/>
                <polygon points="950,470 960,480 950,490" fill="black"/>

                <line x1="475" y1="80" x2="485" y2="80" stroke="black" stroke-width="3"/>
                <text x="490" y="90">5</text>
                <line x1="475" y1="160" x2="485" y2="160" stroke="black" stroke-width="3"/>
                <text x="490" y="170">4</text>
                <line x1="475" y1="240" x2="485" y2="240" stroke="black" stroke-width="3"/>
                <text x="490" y="250">3</text>
                <line x1="475" y1="320" x2="485" y2="320" stroke="black" stroke-width="3"/>
                <text x="490" y="330">2</text>
                <line x1="475" y1="400" x2="485" y2="400" stroke="black" stroke-width="3"/>
                <text x="490" y="410">1</text>
                <line x1="475" y1="560" x2="485" y2="560" stroke="black" stroke-width="3"/>
                <text x="490" y="565">-1</text>
                <line x1="475" y1="640" x2="485" y2="640" stroke="black" stroke-width="3"/>
                <text x="490" y="645">-2</text>
                <line x1="475" y1="720" x2="485" y2="720" stroke="black" stroke-width="3"/>
                <text x="490" y="725">-3</text>
                <line x1="475" y1="800" x2="485" y2="800" stroke="black" stroke-width="3"/>
                <text x="490" y="805">-4</text>
                <line x1="475" y1="880" x2="485" y2="880" stroke="black" stroke-width="3"/>
                <text x="490" y="885">-5</text>
            </svg>
        </div>
    </div>

    <h:form method="get" id="form">
        <div class="data">
            <h:inputHidden id="hiddenX" value="#{resultsBean.newPoint.hiddenX}"/>
            <h:inputHidden id="hiddenY" value="#{resultsBean.newPoint.hiddenY}"/>
            X:
            <h:outputText id="output-X" value="#{resultsBean.newPoint.x}"/>
            <h:inputHidden id="x" value="#{resultsBean.newPoint.x}"/>
            <p:slider for="x" step="1" display="output-X" id="x-slider" onSlideStart="3"
                      minValue="-4" maxValue="4" displayTemplate="X = {value}"/>
            <p:message for="x"/>
            <br/>
            Y ∈ [-5;5]:
            <h:inputText id="y-inputHidden" value="#{resultsBean.newPoint.y}" autocomplete="off" validatorMessage="Координата Y должна быть в диапазоне [-5;5]">
                <f:validateRequired/>
                <f:validateDoubleRange minimum="-5" maximum="5"/>
            </h:inputText>
            <br/>
            <h:message for="y-inputHidden" style="color: red"/>
            <br/>
            R:
            <h:selectBooleanCheckbox label="1" id="p1R" class="checkboxR"  onclick="checkboxClick(this)" binding="#{checkbox1}" value="#{resultsBean.newPoint.r1}"/>
            <label for="p1R">1</label>
            <h:selectBooleanCheckbox label="2" id="p2R" class="checkboxR"  onclick="checkboxClick(this)" binding="#{checkbox2}" value="#{resultsBean.newPoint.r2}"/>
            <label for="p2R">2</label>
            <h:selectBooleanCheckbox label="3" id="p3R" class="checkboxR"  onclick="checkboxClick(this)" binding="#{checkbox3}"  value="#{resultsBean.newPoint.r3}"/>
            <label for="p3R">3</label>
            <h:selectBooleanCheckbox label="4" id="p4R" class="checkboxR"  onclick="checkboxClick(this)" binding="#{checkbox4}"  value="#{resultsBean.newPoint.r4}"/>
            <label for="p4R">4</label>
            <h:selectBooleanCheckbox label="5" id="p5R" class="checkboxR"  onclick="checkboxClick(this)" binding="#{checkbox5}"  value="#{resultsBean.newPoint.r5}">
                <f:validator validatorId="RFieldValidator"/>
                <f:attribute name="checkbox1" value="#{checkbox1}"/>
                <f:attribute name="checkbox2" value="#{checkbox2}"/>
                <f:attribute name="checkbox3" value="#{checkbox3}"/>
                <f:attribute name="checkbox4" value="#{checkbox4}"/>
            </h:selectBooleanCheckbox>
            <label for="p5R">5</label>
            <br/>
            <h:message for="p5R" style="color: red"/>
            <br/>
        </div>
        <h:commandButton id="submit" type="submit" value="Отправить" onclick="convert(document.getElementById('form:y-inputHidden'))" action="#{resultsBean.addPoint()}"/>
    </h:form>
    <table class="result-table" id="resultTable" style="text-align: center">
        <tr>
            <td>Time</td>
            <td>X</td>
            <td>Y</td>
            <td>R = 1</td>
            <td>R = 2</td>
            <td>R = 3</td>
            <td>R = 4</td>
            <td>R = 5</td>
            <td>Hit</td>
            <td>Execution time</td>
        </tr>
        <c:forEach items="${resultsBean.resultPointsList}" var="shot">
            <tr>
                <td>${shot.current}</td>
                <td>${shot.x}</td>
                <td>${shot.y}</td>
                <td>${shot.r1}</td>
                <td>${shot.r2}</td>
                <td>${shot.r3}</td>
                <td>${shot.r4}</td>
                <td>${shot.r5}</td>
                <td>${shot.res}</td>
                <td>${shot.exec}</td>
            </tr>
        </c:forEach>
    </table>
</div>
<script src="resources/js/main.js" type="text/javascript"/>
</body>
</html>